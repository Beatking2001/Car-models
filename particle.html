<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>Priyansh Bhavsar | Automotive Engineer</title>
    <link href="https://fonts.googleapis.com/css2?family=Orbitron:wght@400;900&family=Inter:wght@300;600&display=swap" rel="stylesheet">
    <style>
        :root { --race-red: #e10600; --bg: #0a0a0a; --glass: rgba(18, 18, 18, 0.96); }
        * { margin: 0; padding: 0; box-sizing: border-box; scroll-behavior: smooth; }
        
        body { 
            background: var(--bg); 
            color: #fff; 
            font-family: 'Inter', sans-serif; 
            overflow-x: hidden; 
            -webkit-font-smoothing: antialiased; 
            -moz-osx-font-smoothing: grayscale; 
        }

        #canvas-container { position: fixed; top: 0; left: 0; width: 100%; height: 100%; z-index: -1; pointer-events: none; }

        nav {
            position: fixed; top: 0; width: 100%; padding: 20px 5%;
            display: flex; justify-content: space-between; align-items: center; z-index: 100;
            background: rgba(0,0,0,0.8); border-bottom: 1px solid var(--race-red);
            backdrop-filter: blur(5px);
            -webkit-backdrop-filter: blur(5px);
        }
        .logo { font-family: 'Orbitron', sans-serif; font-weight: 900; color: var(--race-red); letter-spacing: 2px; }

        /* --- HERO SECTION --- */
        .hero-banner {
            width: 100%; 
            height: 50dvh; 
            min-height: 400px;
            background: linear-gradient(rgba(0,0,0,0.3), rgba(0,0,0,0.7)), 
                        url('https://res.cloudinary.com/dspnbixau/image/upload/v1767305745/senna_as_cinamatic_long_landscape_background1_l6yez5.png');
            background-size: cover; background-position: center;
            display: flex; align-items: center; padding: 0 8%;
            position: relative;
            margin-top: 80px;
        }

        .profile-container { display: flex; align-items: center; gap: 40px; flex-wrap: wrap; z-index: 2; }
        .profile-img {
            width: 200px; height: 200px; border-radius: 50%;
            border: 4px solid var(--race-red); object-fit: cover;
            box-shadow: 0 0 30px rgba(225, 6, 0, 0.4);
        }

        /* --- SECTIONS --- */
        section { padding: 40px 8%; }
        h1 { 
            font-family: 'Orbitron', sans-serif; 
            font-size: clamp(2rem, 5vw, 3.5rem); 
            text-transform: uppercase; line-height: 1; 
            text-shadow: 2px 2px 10px rgba(0,0,0,0.8); 
        }
        h1 span { color: var(--race-red); }
        h2 { 
            font-family: 'Orbitron', sans-serif; color: var(--race-red); margin-bottom: 20px; 
            font-size: 1.5rem; border-left: 4px solid var(--race-red); padding-left: 20px; text-transform: uppercase;
        }

        .glass-card { 
            background: var(--glass); 
            border-top: 2px solid var(--race-red); 
            padding: 40px; 
            transform: translateZ(0); 
        }
        .glass-card p { font-size: 1.1rem; line-height: 1.8; color: #ddd; }

        /* --- GALLERY --- */
        .gallery-container { padding-top: 20px; padding-bottom: 40px; }
        .gallery-wrapper { 
            width: 100%; overflow-x: auto; white-space: nowrap; padding: 0 5%; 
            scrollbar-width: none; 
            -webkit-overflow-scrolling: touch; 
        }
        .gallery-wrapper::-webkit-scrollbar { display: none; }
        .gallery-scroll { display: inline-flex; gap: 20px; }
        .media-item { position: relative; border: 1px solid #222; width: 480px; aspect-ratio: 16/9; overflow: hidden; background: #111; flex-shrink: 0; }
        .media-item video, .media-item img { width: 100%; height: 100%; object-fit: cover; opacity: 0.7; transition: 0.5s; }
        .media-item:hover video, .media-item:hover img { opacity: 1; transform: scale(1.05); }
        .label { position: absolute; bottom: 0; padding: 10px; font-family: monospace; font-size: 10px; color: var(--race-red); width: 100%; background: rgba(0,0,0,0.85); }

        /* --- INTERACTIVE 3D SECTION --- */
        #interactive-3d {
            width: 100%;
            height: 600px;
            background: radial-gradient(circle at center, #2a2a2a 0%, #000 100%);
            border-top: 1px solid var(--race-red);
            border-bottom: 1px solid var(--race-red);
            position: relative;
            margin-bottom: 60px;
            overflow: hidden;
            display: flex; 
        }

        .car-selector {
            width: 220px;
            height: 100%;
            background: rgba(0,0,0,0.6);
            border-right: 1px solid #333;
            display: flex;
            flex-direction: column;
            padding: 20px;
            z-index: 10;
            overflow-y: auto;
            -webkit-overflow-scrolling: touch; 
        }

        .car-option {
            background: transparent;
            border: 1px solid #444;
            color: #aaa;
            padding: 15px;
            margin-bottom: 10px;
            cursor: pointer;
            font-family: 'Orbitron', sans-serif;
            font-size: 0.8rem;
            text-align: left;
            transition: 0.3s;
            text-transform: uppercase;
        }

        .car-option:hover { border-color: var(--race-red); color: #fff; background: rgba(225, 6, 0, 0.1); }
        .car-option.active { background: var(--race-red); color: #000; border-color: var(--race-red); font-weight: 900; }

        #model-wrapper { flex: 1; position: relative; height: 100%; }
        #model-canvas { width: 100%; height: 100%; outline: none; cursor: crosshair; }
        
        .interaction-hint {
            position: absolute; bottom: 20px; left: 50%; transform: translateX(-50%);
            color: #fff; font-family: 'Orbitron', monospace; font-size: 14px; 
            background: rgba(225, 6, 0, 0.8); padding: 10px 25px; border-radius: 4px;
            pointer-events: none; z-index: 10;
            text-transform: uppercase; letter-spacing: 2px;
            white-space: nowrap;
        }
        
        #loading-text {
            position: absolute; top: 50%; left: 50%; transform: translate(-50%, -50%);
            color: #e10600; font-family: 'Orbitron', sans-serif; font-size: 1.2rem;
            pointer-events: none; animation: pulse 1.5s infinite;
        }
        @keyframes pulse { 0% { opacity: 0.5; } 50% { opacity: 1; } 100% { opacity: 0.5; } }

        /* --- PROJECT SPOTLIGHT SECTION --- */
        .project-spotlight {
            display: flex;
            flex-direction: column;
            align-items: center;
            background: rgba(255,255,255,0.015);
            border-top: 1px solid #222;
            border-bottom: 1px solid #222;
            padding-bottom: 60px;
        }

        .project-hero-img {
            width: 100%;
            max-width: 1100px; 
            height: auto;
            aspect-ratio: 16/9;
            object-fit: cover;
            border: 1px solid #333;
            border-radius: 8px;
            margin-bottom: 40px;
            box-shadow: 0 20px 50px rgba(0,0,0,0.8);
        }

        .project-details {
            max-width: 900px;
            width: 100%;
            padding: 0 20px;
        }

        .project-details h3 { font-family: 'Orbitron', sans-serif; font-size: 1.8rem; color: #fff; margin-bottom: 10px; }
        .project-details h4 { color: var(--race-red); margin-bottom: 20px; font-size: 1.2rem; font-family: 'Inter', sans-serif; text-transform: uppercase; letter-spacing: 1px; }
        .project-details p { font-size: 1.05rem; color: #ccc; line-height: 1.8; margin-bottom: 15px; }

        /* --- INFO ROWS (Experience & Edu) --- */
        .info-row { display: flex; align-items: center; gap: 50px; margin-bottom: 60px; background: rgba(255,255,255,0.02); border: 1px solid #222; padding: 40px; border-left: 4px solid var(--race-red); }
        .info-content { flex: 1; }
        .info-content h3 { font-family: 'Orbitron', sans-serif; font-size: 1.5rem; color: #fff; margin-bottom: 20px; letter-spacing: 1px; }
        .info-content h4 { color: var(--race-red); margin-bottom: 10px; font-size: 1.1rem; }
        .info-content p, .info-content li { font-size: 1rem; color: #ccc; line-height: 1.7; list-style: none; margin-bottom: 10px; }
        .info-image { flex: 1; height: 300px; overflow: hidden; border: 1px solid #333; }
        .info-image img { width: 100%; height: 100%; object-fit: cover; filter: grayscale(20%) contrast(1.1); transition: 0.5s; }
        .info-image:hover img { filter: grayscale(0%) contrast(1.1); transform: scale(1.03); }
        .tag { display: inline-block; padding: 6px 16px; border: 1px solid #444; margin: 4px; font-size: 12px; color: #aaa; text-transform: uppercase; background: rgba(0,0,0,0.5); }
        
        /* --- MOBILE TWEAKS --- */
        @media (max-width: 900px) { 
            nav { padding: 15px 5%; }
            .hero-banner { flex-direction: column; text-align: center; justify-content: center; gap: 20px; margin-top: 60px; height: auto; padding: 60px 8%; }
            .profile-img { width: 150px; height: 150px; margin-bottom: 15px; }
            .info-row { flex-direction: column; } 
            .info-image { width: 100%; height: 250px; } 
            #interactive-3d { flex-direction: column; height: 700px; }
            .car-selector { width: 100%; height: auto; flex-direction: row; overflow-x: auto; border-right: none; border-bottom: 1px solid #333; white-space: nowrap; padding: 10px; }
            .car-option { display: inline-block; margin-right: 10px; margin-bottom: 0; min-width: 150px; text-align: center; font-size: 0.7rem; padding: 10px; }
            .media-item { width: 80vw; } 
        }
        footer { text-align: center; padding: 50px; font-family: monospace; font-size: 0.75rem; color: #555; border-top: 1px solid #111; }
    </style>
</head>
<body>
    <div id="canvas-container"></div>
    <nav><div class="logo">PRIYANSH BHAVSAR</div></nav>

    <div class="hero-banner">
        <div class="profile-container">
            <img src="https://res.cloudinary.com/dspnbixau/image/upload/v1767303101/WhatsApp_Image_2024-09-13_at_4.11.24_PM_ayxbgd.jpg" alt="Priyansh Bhavsar" class="profile-img">
            <div>
                <p style="color: var(--race-red); font-family: 'Orbitron'; letter-spacing: 4px; margin-bottom: 10px; text-shadow: 2px 2px 4px rgba(0,0,0,0.8);">AUTOMOTIVE ENGINEER</p>
                <h1>PRIYANSH <br> <span>BHAVSAR</span></h1>
            </div>
        </div>
    </div>

    <section id="summary">
        <h2>Professional Summary</h2>
        <div class="glass-card">
            <p>Automotive Engineering graduate with hands-on internship experience in vehicle servicing, diagnostics, and workshop operations at authorised Maruti Suzuki and Mercedes-Benz service centres. Seeking an entry-level automotive or engineering role where technical knowledge, safety awareness, and problem-solving skills can be applied.</p>
        </div>
    </section>

    <div class="gallery-container">
        <div style="padding: 0 8%; margin-bottom: 20px;">
            <h2>Work Gallery</h2>
        </div>
        <div class="gallery-wrapper">
            <div class="gallery-scroll">
                <div class="media-item"><video src="https://res.cloudinary.com/dspnbixau/video/upload/v1767050062/jesko_black_and_gold_dkyg7e.mp4" autoplay loop muted playsinline></video><div class="label">JESKO_AERODYNAMICS</div></div>
                <div class="media-item"><video src="https://res.cloudinary.com/dspnbixau/video/upload/v1767050058/mclarean_shark_themed_gzpwqw.mp4" autoplay loop muted playsinline></video><div class="label">MCLAREN_SHARK</div></div>
                <div class="media-item"><video src="https://res.cloudinary.com/dspnbixau/video/upload/v1767050057/SVJ_landscape_wallpaper_veqvov.mp4" autoplay loop muted playsinline></video><div class="label">SVJ_DYNAMICS</div></div>
                <div class="media-item"><img src="https://res.cloudinary.com/dspnbixau/image/upload/v1767050055/porsche_dual_color_wallpaper_wtufhb.png"><div class="label">911_CHASSIS</div></div>
                <div class="media-item"><video src="https://res.cloudinary.com/dspnbixau/video/upload/v1767050055/porsche_911_kxd067.mp4" autoplay loop muted playsinline></video><div class="label">911_SCAN</div></div>
                <div class="media-item"><img src="https://res.cloudinary.com/dspnbixau/image/upload/v1767050055/black_and_gold_jesko_wall_paper_nk3ql1.png"><div class="label">JESKO_STATIONARY</div></div>
                <div class="media-item"><img src="https://res.cloudinary.com/dspnbixau/image/upload/v1767050055/hotwheels_desing_collection_xtja1i.png"><div class="label">DESIGN_COLLECTION</div></div>
                <div class="media-item"><img src="https://res.cloudinary.com/dspnbixau/image/upload/v1767050056/AMG_onw_wallpaper_xvidjo.png"><div class="label">AMG_ONE_RENDER</div></div>
                <div class="media-item"><img src="https://res.cloudinary.com/dspnbixau/image/upload/v1767050056/ford_mustang_and_decor_in_home_wg7ezz.png"><div class="label">MUSTANG_AESTHETICS</div></div>
                <div class="media-item"><img src="https://res.cloudinary.com/dspnbixau/image/upload/v1767050057/garage_cars_ghxq5n.png"><div class="label">GARAGE_ASSETS</div></div>
                <div class="media-item"><video src="https://res.cloudinary.com/dspnbixau/video/upload/v1767050057/porsche_911_black_on_wall_decor_hbrtgq.mp4" autoplay loop muted playsinline></video><div class="label">911_WALL_SCAN</div></div>
                <div class="media-item"><video src="https://res.cloudinary.com/dspnbixau/video/upload/v1767050058/sp90_live_wallpaper_phone_xchlrx.mp4" autoplay loop muted playsinline></video><div class="label">SP90_LIVE</div></div>
                <div class="media-item"><video src="https://res.cloudinary.com/dspnbixau/video/upload/v1767050058/porsche_911_white_on_wall_decore_whegqn.mp4" autoplay loop muted playsinline></video><div class="label">911_WHITE_DECOR</div></div>
            </div>
        </div>
    </div>

    <section>
        <h2>Concept 3D Lab</h2>
        <div id="interactive-3d">
            <div class="car-selector">
                <div class="car-option active" onclick="selectCar('mclaren', this)">SHARK MCLAREN</div>
                <div class="car-option" onclick="selectCar('porsche', this)">ROYAL PORSCHE</div>
                <div class="car-option" onclick="selectCar('aventador', this)">BLACK PANTHER AVENTADOR</div>
                <div class="car-option" onclick="selectCar('jesko', this)">JESKO BLACK & GOLD</div>
                <div class="car-option" onclick="selectCar('sp90', this)">FERRARI SP90</div>
            </div>

            <div id="model-wrapper">
                <div id="loading-text">LOADING MODEL...</div>
                <div class="interaction-hint">LEFT CLICK: ROTATE • DBL CLICK: FOCUS • SCROLL: ZOOM</div>
            </div>
        </div>
    </section>

    <section class="project-spotlight">
        <img src="https://res.cloudinary.com/dspnbixau/image/upload/v1767385541/Untitled_xcgcht.png" alt="MSc Project CFD Simulation" class="project-hero-img">
        
        <div class="project-details">
            <h3>MSc PROJECT: EV AERODYNAMICS</h3>
            <h4>Aerodynamic Improvement in EV via Passive Devices</h4>
            
            <p><strong>Objective:</strong> To enhance the aerodynamic efficiency and stability of a Tesla Cybertruck model using passive flow control devices such as spoilers, diffusers, and vortex generators.</p>
            
            <p><strong>Methodology:</strong> The research employed a dual-phase analysis strategy. First, rigorous <strong>CFD simulations (ANSYS Fluent)</strong> were conducted to predict airflow patterns and drag coefficients. This was followed by <strong>Experimental Wind Tunnel Testing</strong> on a 1/20 scale 3D-printed model to validate the simulation data.</p>
            
            <p><strong>Key Outcome:</strong> The study successfully validated that specific spoiler configurations (15mm height at 4° angle) significantly improved downforce and aerodynamic stability. This modification provides a sustainable, cost-effective solution for extending the range of Electric Vehicles without requiring active power consumption.</p>
            
            <div style="margin-top: 20px;">
                <div class="tag">ANSYS Fluent</div><div class="tag">SolidWorks</div><div class="tag">Wind Tunnel</div><div class="tag">CFD</div><div class="tag">3D Printing</div><div class="tag">Aerodynamics</div>
            </div>
        </div>
    </section>

    <section id="experience">
        <h2>Professional Detail</h2>
        
        <div class="info-row">
            <div class="info-content">
                <h3>WORK EXPERIENCE</h3>
                <h4>Automotive Intern - Mercedes-Benz</h4>
                <li>Assisted service engineers in vehicle inspection, servicing, and maintenance.</li>
                <li>Observed diagnostic procedures using manufacturer-approved tools.</li>
                <br>
                <h4>Automotive Intern - Maruti Suzuki</h4>
                <li>Supported technicians during routine vehicle servicing and repairs.</li>
                <li>Gained exposure to engine, braking, and suspension systems.</li>
            </div>
            <div class="info-image">
                <img src="https://res.cloudinary.com/dspnbixau/image/upload/v1767308883/IMG_20260101_230202_sohpne.jpg" alt="Automotive Workshop Experience">
            </div>
        </div>

        <div class="info-row">
            <div class="info-content">
                <h3>TECHNICAL SKILLS</h3>
                <div style="margin-top: 15px;">
                    <div class="tag">Vehicle Servicing</div><div class="tag">Diagnostics</div><div class="tag">Mechanical Systems</div><div class="tag">Quality Control</div>
                    <div class="tag">SolidWorks</div><div class="tag">Ansys</div><div class="tag">Blender 3D</div><div class="tag">Cassis Sim</div><div class="tag">Motec i2 Basic</div>
                </div>
            </div>
            <div class="info-image">
                <img src="https://images.unsplash.com/photo-1581091226825-a6a2a5aee158?auto=format&fit=crop&w=800&q=80" alt="Technical Diagnostics">
            </div>
        </div>

        <div class="info-row">
            <div class="info-content">
                <h3>EDUCATION</h3>
                <h4>MSc in Automotive Engineering for EV</h4>
                <p>United Kingdom</p>
                <br>
                <h4>Bachelor of Engineering – Automobile Engineering</h4>
                <p>Gujarat Technological University, India (2023)</p>
            </div>
            <div class="info-image">
                <img src="https://images.unsplash.com/photo-1593941707882-a5bba14938c7?auto=format&fit=crop&w=800&q=80" alt="EV Engineering">
            </div>
        </div>
    </section>

    <footer>PRIYANSH BHAVSAR // UK WORK ELIGIBLE // INITIALIZED 2026</footer>

    <script type="importmap">
        {
            "imports": {
                "three": "https://unpkg.com/three@0.160.0/build/three.module.js",
                "three/addons/": "https://unpkg.com/three@0.160.0/examples/jsm/"
            }
        }
    </script>
    
    <script type="module">
        import * as THREE from 'three';
        let scene, camera, renderer, points;
        const count = 15000; 
        let scrollY = 0;

        function init() {
            scene = new THREE.Scene();
            camera = new THREE.PerspectiveCamera(75, window.innerWidth / window.innerHeight, 0.1, 1000);
            camera.position.set(0, 0, 80);
            renderer = new THREE.WebGLRenderer({ antialias: true, alpha: true });
            renderer.setSize(window.innerWidth, window.innerHeight);
            document.getElementById('canvas-container').appendChild(renderer.domElement);

            const geometry = new THREE.BufferGeometry();
            const positionsArray = new Float32Array(count * 3);
            const colorsArray = new Float32Array(count * 3);
            
            for (let i = 0; i < count; i++) {
                const i3 = i * 3;
                const angle = (i / count) * Math.PI * 2;
                const spokeCount = 5;
                const spokeInfluence = Math.pow(Math.max(0, Math.cos(angle * spokeCount)), 8);
                const hubR = 12;
                const rimR = 48;
                let r;
                const rand = Math.random();
                if (rand < 0.15) { r = Math.random() * hubR; } 
                else if (rand > 0.9) { r = rimR + (Math.random() - 0.5) * 4; } 
                else { r = hubR + (rimR - hubR) * spokeInfluence; r += (Math.random() - 0.5) * 10 * spokeInfluence; }
                positionsArray[i3] = Math.cos(angle) * r;     
                positionsArray[i3+1] = Math.sin(angle) * r;   
                positionsArray[i3+2] = (Math.random() - 0.5) * 15; 
                colorsArray[i3] = 0.9; colorsArray[i3+1] = 0.05; colorsArray[i3+2] = 0.05; 
            }

            geometry.setAttribute('position', new THREE.BufferAttribute(positionsArray, 3));
            geometry.setAttribute('color', new THREE.BufferAttribute(colorsArray, 3));
            points = new THREE.Points(geometry, new THREE.PointsMaterial({ size: 0.18, vertexColors: true, transparent: true, opacity: 0.5, blending: THREE.AdditiveBlending }));
            scene.add(points);
            animate();
        }
        window.addEventListener('scroll', () => { scrollY = window.scrollY * 0.002; });
        function animate() {
            requestAnimationFrame(animate);
            points.rotation.z += 0.0015; 
            const scale = 1 + scrollY * 0.1;
            points.scale.set(scale, scale, scale);
            renderer.render(scene, camera);
        }
        init();
        window.addEventListener('resize', () => {
            camera.aspect = window.innerWidth / window.innerHeight;
            camera.updateProjectionMatrix();
            renderer.setSize(window.innerWidth, window.innerHeight);
        });
    </script>

    <script type="module">
        import * as THREE from 'three';
        import { GLTFLoader } from 'three/addons/loaders/GLTFLoader.js';
        import { OrbitControls } from 'three/addons/controls/OrbitControls.js';

        let mScene, mCamera, mRenderer, mModel, mControls;
        const container = document.getElementById('model-wrapper');
        const loadingText = document.getElementById('loading-text');
        
        const raycaster = new THREE.Raycaster();
        const mouse = new THREE.Vector2();

        // CAR URLS (Direct GitHub Raw Links)
        const CARS = {
            mclaren: 'https://raw.githubusercontent.com/Beatking2001/Car-models/2104b634f80c15ccb0fc31aa87bfe7e3ff3e8410/shark%20mclaren.glb',
            porsche: 'https://raw.githubusercontent.com/Beatking2001/Car-models/40d4bee53bffc028eb4c53b4ae8233f168d9c0ae/Royal%20porsche.glb',
            aventador: 'https://raw.githubusercontent.com/Beatking2001/Car-models/4ff4140053c59d4fe8c491ea5fd221396f07ba7e/Aventador%20Black%20panther%20ttheme.glb',
            jesko: 'https://raw.githubusercontent.com/Beatking2001/Car-models/effdddb487f1df4302e1136f201dd411d0287544/jesko%20black%20and%20gold%20.glb',
            sp90: 'https://raw.githubusercontent.com/Beatking2001/Car-models/effdddb487f1df4302e1136f201dd411d0287544/livewlp.glb'
        };

        window.selectCar = function(carName, element) {
            document.querySelectorAll('.car-option').forEach(el => el.classList.remove('active'));
            element.classList.add('active');
            
            if (CARS[carName]) {
                loadModelFromUrl(CARS[carName]);
            }
        };

        function initModelViewer() {
            mScene = new THREE.Scene();
            
            mCamera = new THREE.PerspectiveCamera(45, container.offsetWidth / container.offsetHeight, 0.1, 100);
            mCamera.position.set(5, 3, 5); 

            mRenderer = new THREE.WebGLRenderer({ antialias: true, alpha: true });
            mRenderer.setSize(container.offsetWidth, container.offsetHeight);
            mRenderer.outputEncoding = THREE.sRGBEncoding;
            mRenderer.domElement.id = 'model-canvas';
            container.appendChild(mRenderer.domElement);

            mRenderer.domElement.addEventListener('dblclick', onDoubleClick, false);

            // --- STUDIO LIGHTING SETUP ---
            const ambientLight = new THREE.AmbientLight(0xffffff, 3.0);
            mScene.add(ambientLight);

            const dirLight = new THREE.DirectionalLight(0xffffff, 5.0);
            dirLight.position.set(5, 10, 7);
            mScene.add(dirLight);

            const backLight = new THREE.DirectionalLight(0xe10600, 5.0); 
            backLight.position.set(-5, 5, -5);
            mScene.add(backLight);

            const fillLight = new THREE.DirectionalLight(0xffffff, 3.0);
            fillLight.position.set(-5, 0, 5);
            mScene.add(fillLight);

            // Controls
            mControls = new OrbitControls(mCamera, mRenderer.domElement);
            mControls.enableDamping = true;
            mControls.autoRotate = true;
            mControls.autoRotateSpeed = 1.0;

            // Load Initial Car (McLaren)
            loadModelFromUrl(CARS.mclaren);

            animateModel();
        }

        function onDoubleClick(event) {
            const rect = container.getBoundingClientRect();
            mouse.x = ((event.clientX - rect.left) / rect.width) * 2 - 1;
            mouse.y = -((event.clientY - rect.top) / rect.height) * 2 + 1;

            raycaster.setFromCamera(mouse, mCamera);

            if (mModel) {
                const intersects = raycaster.intersectObject(mModel, true);
                if (intersects.length > 0) {
                    const p = intersects[0].point;
                    mControls.target.copy(p);
                    mControls.update();
                }
            }
        }

        function loadModelFromUrl(url) {
            loadingText.style.display = 'block';
            loadingText.textContent = "LOADING MODEL...";
            
            const loader = new GLTFLoader();
            loader.load(url, function (gltf) {
                if (mModel) mScene.remove(mModel);
                
                mModel = gltf.scene;
                
                const box = new THREE.Box3().setFromObject(mModel);
                const center = box.getCenter(new THREE.Vector3());
                const size = box.getSize(new THREE.Vector3());
                
                mModel.position.x += (mModel.position.x - center.x);
                mModel.position.y += (mModel.position.y - center.y);
                mModel.position.z += (mModel.position.z - center.z);
                
                const maxDim = Math.max(size.x, size.y, size.z);
                const scale = 3.5 / maxDim; 
                mModel.scale.set(scale, scale, scale);

                mScene.add(mModel);
                mControls.target.set(0,0,0);
                
                loadingText.style.display = 'none';

            }, undefined, function (error) {
                console.error("Error loading model:", error);
                loadingText.textContent = "ERROR LOADING MODEL";
            });
        }

        function animateModel() {
            requestAnimationFrame(animateModel);
            mControls.update();
            mRenderer.render(mScene, mCamera);
        }

        initModelViewer();

        window.addEventListener('resize', () => {
            mCamera.aspect = container.offsetWidth / container.offsetHeight;
            mCamera.updateProjectionMatrix();
            mRenderer.setSize(container.offsetWidth, container.offsetHeight);
        });
    </script>
</body>
</html>